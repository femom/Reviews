@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {

  html,
  body {
    height: 100%;
  }

  body {
    font-family: 'Poppins', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
    color: #161c19;
    background: radial-gradient(1200px 700px at 12% -12%, rgba(61, 185, 99, 0.28), transparent 60%),
      radial-gradient(900px 500px at 88% 12%, rgba(39, 143, 75, 0.22), transparent 55%),
      radial-gradient(800px 500px at 50% 100%, rgba(248, 250, 252, 0.9), transparent 60%),
      linear-gradient(180deg, #e7ebe8 0%, #f8fafc 45%, #e7ebe8 100%);
    overflow-x: hidden;
  }

  #root {
    min-height: 100%;
    width: 100%;
  }

  .dark body {
    color: #e6ebe8;
    background: radial-gradient(1200px 700px at 12% -12%, rgba(39, 143, 75, 0.18), transparent 60%),
      radial-gradient(900px 500px at 88% 12%, rgba(15, 19, 17, 0.6), transparent 55%),
      linear-gradient(180deg, #0f1311 0%, #151b18 45%, #0f1311 100%);
  }

  /* Responsive text sizing */
  h1,
  h2,
  h3,
  h4 {
    word-wrap: break-word;
    overflow-wrap: break-word;
  }

  /* Responsive padding and margins */
  @media (max-width: 768px) {
    body {
      font-size: 16px;
    }
  }

  @media (max-width: 480px) {
    body {
      font-size: 14px;
    }
  }
}

@layer components {
  .glass-panel {
    @apply bg-white/25 backdrop-blur-xl border border-white/30 shadow-glass;
  }

  .glass-card {
    @apply bg-white/35 backdrop-blur-lg border border-white/40 shadow-glass;
  }

  .glass-soft {
    @apply bg-white/25 backdrop-blur-md border border-white/30;
  }

  .dark .glass-panel {
    @apply bg-slate-900/50 border-slate-700/40;
  }

  .dark .glass-card {
    @apply bg-slate-900/55 border-slate-700/40;
  }

  .dark .glass-soft {
    @apply bg-slate-900/40 border-slate-700/40;
  }

  .text-gradient {
    @apply bg-clip-text text-transparent bg-[length:200%_200%] bg-gradient-to-r from-ink-700 via-aurora-500 to-aurora-300;
  }

  .nav-link-underline {
    @apply relative;
  }

  .nav-link-underline::after {
    content: "";
    position: absolute;
    left: 12%;
    right: 12%;
    bottom: -6px;
    height: 2px;
    border-radius: 9999px;
    background: currentColor;
    opacity: 0;
    transform: scaleX(0.2);
    transform-origin: center;
    transition: transform 220ms ease, opacity 220ms ease;
  }

  .nav-link-underline:hover::after {
    opacity: 0.9;
    transform: scaleX(1);
  }
}

@layer utilities {
  .mask-fade {
    mask-image: linear-gradient(180deg, rgba(0, 0, 0, 1) 80%, rgba(0, 0, 0, 0));
  }

  .bg-aurora {
    background-image:
      radial-gradient(700px 400px at 20% 10%, rgba(106, 212, 126, 0.25), transparent 60%),
      radial-gradient(500px 300px at 80% 0%, rgba(61, 185, 99, 0.22), transparent 60%),
      linear-gradient(120deg, rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.1));
  }

  .theme-wave {
    position: fixed;
    inset: -30%;
    z-index: 9999;
    pointer-events: none;
    background:
      radial-gradient(circle at 35% 35%, rgba(255, 255, 255, 0.85) 0%, rgba(255, 255, 255, 0.0) 55%),
      radial-gradient(circle at 65% 55%, rgba(167, 243, 208, 0.35) 0%, rgba(255, 255, 255, 0.0) 60%);
    opacity: 0;
    transform: scale(0.15);
    animation: themeWave 1500ms cubic-bezier(0.16, 1, 0.3, 1) forwards;
  }

  .dark .theme-wave {
    background:
      radial-gradient(circle at 35% 35%, rgba(6, 10, 8, 0.95) 0%, rgba(6, 10, 8, 0.0) 55%),
      radial-gradient(circle at 65% 55%, rgba(39, 143, 75, 0.25) 0%, rgba(6, 10, 8, 0.0) 60%);
  }
}

/* Dark-mode overrides for Tailwind `text-ink-*` utilities to ensure readable text
   without changing every component class. These rules intentionally increase
   contrast for darker `ink` shades when `.dark` is present on an ancestor. */
.dark .text-ink-900,
.dark .text-ink-800,
.dark .text-ink-700,
.dark .text-ink-600 {
  color: #e6ebe8 !important;
}

.dark ::placeholder {
  color: #c7d1cb !important;
}

@keyframes themeWave {
  0% {
    opacity: 0.85;
    transform: scale(0.15) rotate(0deg);
  }

  100% {
    opacity: 0;
    transform: scale(3.1) rotate(18deg);
  }
}

/* Scroll reveal animations */
@media (prefers-reduced-motion: reduce) {

  .reveal,
  .reveal * {
    transition: none !important;
    animation: none !important;
  }
}

.reveal {
  opacity: 0;
  transform: translateY(14px) scale(0.995);
  will-change: opacity, transform;
  transition: opacity 520ms cubic-bezier(.22, .9, .29, 1), transform 520ms cubic-bezier(.22, .9, .29, 1);
}

.reveal--visible {
  opacity: 1;
  transform: translateY(0) scale(1);
}

/* sparkline animation */
.sparkline polyline {
  stroke-dasharray: 120;
  stroke-dashoffset: 120;
  animation: sparkDraw 900ms ease-out forwards;
}

@keyframes sparkDraw {
  to {
    stroke-dashoffset: 0;
  }
}

/* Slow train-style marquee for cards */
.marquee-track {
  animation: marqueeMove 60s ease-in-out infinite;
  will-change: transform;
}

@keyframes marqueeMove {
  0% {
    transform: translateX(0);
  }

  10% {
    transform: translateX(-6%);
  }

  18% {
    transform: translateX(-6%);
  }

  35% {
    transform: translateX(-18%);
  }

  43% {
    transform: translateX(-18%);
  }

  62% {
    transform: translateX(-32%);
  }

  70% {
    transform: translateX(-32%);
  }

  88% {
    transform: translateX(-46%);
  }

  100% {
    transform: translateX(-50%);
  }
}

/* Faster, softer reveal on mobile for perceived smoothness */
@media (max-width: 768px) {
  .reveal {
    transform: translateY(10px) scale(0.996);
    transition: opacity 420ms cubic-bezier(.22, .9, .29, 1), transform 420ms cubic-bezier(.22, .9, .29, 1);
  }
}

/* stagger helpers when JS sets inline --reveal-delay */
.reveal[style*="--reveal-delay"] {
  transition-delay: var(--reveal-delay);
}

.reveal-fade-left {
  transform: translateX(-18px) scale(0.995);
}

.reveal-fade-right {
  transform: translateX(18px) scale(0.995);
}

.reveal-zoom {
  transform: translateY(6px) scale(0.98);
}
